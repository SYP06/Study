<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
    </ul>
    <!-- 
        let 和 var 区别
        1 let不允许重复声明变量，会报错；
        2 let不存在变量提升，就报错；
        3 let 存在一个块级作用域的概念
        4 暂时性死区：在一个作用域内不允许同名变量进来，当用let取声明一个变量的时候，
          就会形成一个封闭的死区，只能在声明后调用，否则就会报错
     -->

     <!-- 
         作用域：
         1 全局作用域
         2 局部作用域（函数作用域）
         3 块级作用域 es6中一个{}就是一个块级作用域（let声明的变量只能在声明他的{}中获取到
     -->
     <script>
         /* let不允许重复声明变量 */

         //var 可以重复声明变量
        //  var str = 'hello';
        //  var str = 'world';
        //  console.log(str);

        //  let str = 'hello';
        //  let str = 'world';
        //  console.log(let);//Identifier 'str' has already been declared


        /* let不存在变量提升  */

        // 变量提升
        //  console.log(str);//undefined
        //  var str = "hello"

        // var str ;
        // console.log(str);
        // str ="hello";
        // console.log(str);//hello

        // console.log(str);//Cannot access 'str' before initialization
        //  let str = "hello"

  /*  let 存在一个块级作用域的概念 */
        // if(true){
        //     var a = 10;
        // }
        // console.log(a);//10

        // if(true){
        //     let a = 10;vvvvvvvvvb
        // }
        // console.log(a); //a is not defined

        // for(var i =0;i<3;i++){
        //     console.log(i);//0,1,2
        // }
        // console.log(i);//3

        // for(let i =0;i<3;i++){
        //     console.log(i);//0,1,2
        // }
        // console.log(i);//i is not defined


        // let aLi = document.getElementsByTagName('li');
        // for(var i=0; i<aLi.length; i++){
        //     aLi[i].onclick= function(){
        //         console.log(i);
        //     }
        // }
        // console.log(i);

//let:原理和闭包一样
        // let aLi = document.getElementsByTagName('li');
        // for(let i=0; i<aLi.length; i++){
        //     aLi[i].onclick= function(){
        //         console.log(i);
        //     }
        // }

        //闭包：外部函数中声明了内部函数，内部函数中引用了外部函数中单位局部变量，这样外部函数执行完毕之后内存不释放
        // let aLi = document.getElementsByTagName('li');
        // for(let i=0; i<aLi.length; i++){
        //     (function(index){//形参
        //         aLi[i].onclick= function(){
        //         console.log(index);}
        //     })(i)//实参
            
        //     }


        /* 暂时性报错 */
        // var a=88;
        // function fn1(){
        //     console.log(a);
        //     var a = 888;//undefined 局部作用域内变量提升
        // }
        // fn1();

        var b=99;
        function fn2(){
            console.log(b);//暂时性报错
            let b = 999;
        }
        // fn2();
        console.log(b);
        
        


        

     </script>
</body>
</html>